runtime: nodejs18

handlers:
  # Serve static files from client/build
  - url: /static
    static_dir: client/build/static
    secure: always

  # Serve other static assets
  - url: /(.*\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot))
    static_files: client/build/\1
    upload: client/build/.*\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)
    secure: always

  # Serve manifest and other files
  - url: /(manifest\.json|favicon\.ico|robots\.txt)
    static_files: client/build/\1
    upload: client/build/(manifest\.json|favicon\.ico|robots\.txt)
    secure: always

  # All other routes go to React app
  - url: /.*
    static_files: client/build/index.html
    upload: client/build/index.html
    secure: always 